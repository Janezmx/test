var kt=Object.defineProperty,qt=Object.defineProperties;var Ht=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var rt=Math.pow,Ze=(t,e,r)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,k=(t,e)=>{for(var r in e||(e={}))et.call(e,r)&&Ze(t,r,e[r]);if(me)for(var r of me(e))tt.call(e,r)&&Ze(t,r,e[r]);return t},nt=(t,e)=>qt(t,Ht(e));var ve=(t,e)=>{var r={};for(var n in t)et.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&me)for(var n of me(t))e.indexOf(n)<0&&tt.call(t,n)&&(r[n]=t[n]);return r};var pe=(t,e,r)=>new Promise((n,a)=>{var s=l=>{try{o(r.next(l))}catch(m){a(m)}},u=l=>{try{o(r.throw(l))}catch(m){a(m)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,u);o((r=r.apply(t,e)).next())});import{X as we,Q as Mt,d as Wt,Y as Qt,n as E,Z as Jt,m as oe,b as pt,p as xe,_ as Vt,u as Kt}from"./vendor.9bdfe382.js";import"./index.5a19bca4.js";import"./index.c2041d84.js";import{c as zt}from"./index.3199910c.js";var He={exports:{}},Et=function(e,r){return function(){for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];return e.apply(r,a)}},Yt=Et,W=Object.prototype.toString;function Me(t){return Array.isArray(t)}function Ue(t){return typeof t=="undefined"}function Xt(t){return t!==null&&!Ue(t)&&t.constructor!==null&&!Ue(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function bt(t){return W.call(t)==="[object ArrayBuffer]"}function Gt(t){return W.call(t)==="[object FormData]"}function Zt(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&bt(t.buffer),e}function er(t){return typeof t=="string"}function tr(t){return typeof t=="number"}function yt(t){return t!==null&&typeof t=="object"}function Ce(t){if(W.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function rr(t){return W.call(t)==="[object Date]"}function nr(t){return W.call(t)==="[object File]"}function ar(t){return W.call(t)==="[object Blob]"}function gt(t){return W.call(t)==="[object Function]"}function sr(t){return yt(t)&&gt(t.pipe)}function ir(t){return W.call(t)==="[object URLSearchParams]"}function or(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function ur(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function We(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Me(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function ke(){var t={};function e(a,s){Ce(t[s])&&Ce(a)?t[s]=ke(t[s],a):Ce(a)?t[s]=ke({},a):Me(a)?t[s]=a.slice():t[s]=a}for(var r=0,n=arguments.length;r<n;r++)We(arguments[r],e);return t}function lr(t,e,r){return We(e,function(a,s){r&&typeof a=="function"?t[s]=Yt(a,r):t[s]=a}),t}function cr(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var N={isArray:Me,isArrayBuffer:bt,isBuffer:Xt,isFormData:Gt,isArrayBufferView:Zt,isString:er,isNumber:tr,isObject:yt,isPlainObject:Ce,isUndefined:Ue,isDate:rr,isFile:nr,isBlob:ar,isFunction:gt,isStream:sr,isURLSearchParams:ir,isStandardBrowserEnv:ur,forEach:We,merge:ke,extend:lr,trim:or,stripBOM:cr},ee=N;function at(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var wt=function(e,r,n){if(!r)return e;var a;if(n)a=n(r);else if(ee.isURLSearchParams(r))a=r.toString();else{var s=[];ee.forEach(r,function(l,m){l===null||typeof l=="undefined"||(ee.isArray(l)?m=m+"[]":l=[l],ee.forEach(l,function(f){ee.isDate(f)?f=f.toISOString():ee.isObject(f)&&(f=JSON.stringify(f)),s.push(at(m)+"="+at(f))}))}),a=s.join("&")}if(a){var u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e},fr=N;function Ae(){this.handlers=[]}Ae.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Ae.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Ae.prototype.forEach=function(e){fr.forEach(this.handlers,function(n){n!==null&&e(n)})};var dr=Ae,hr=N,mr=function(e,r){hr.forEach(e,function(a,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(e[r]=a,delete e[s])})},Ct=function(e,r,n,a,s){return e.config=r,n&&(e.code=n),e.request=a,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Tt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vr=Ct,Ot=function(e,r,n,a,s){var u=new Error(e);return vr(u,r,n,a,s)},pr=Ot,Er=function(e,r,n){var a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):r(pr("Request failed with status code "+n.status,n.config,null,n.request,n))},Ee=N,br=Ee.isStandardBrowserEnv()?function(){return{write:function(r,n,a,s,u,o){var l=[];l.push(r+"="+encodeURIComponent(n)),Ee.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),Ee.isString(s)&&l.push("path="+s),Ee.isString(u)&&l.push("domain="+u),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),yr=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},gr=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},wr=yr,Cr=gr,Tr=function(e,r){return e&&!wr(r)?Cr(e,r):r},Fe=N,Or=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Rr=function(e){var r={},n,a,s;return e&&Fe.forEach(e.split(`
`),function(o){if(s=o.indexOf(":"),n=Fe.trim(o.substr(0,s)).toLowerCase(),a=Fe.trim(o.substr(s+1)),n){if(r[n]&&Or.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([a]):r[n]=r[n]?r[n]+", "+a:a}}),r},st=N,Sr=st.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function a(s){var u=s;return e&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(u){var o=st.isString(u)?a(u):u;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function Qe(t){this.message=t}Qe.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Qe.prototype.__CANCEL__=!0;var Ne=Qe,be=N,Ar=Er,Nr=br,Dr=wt,Lr=Tr,xr=Rr,Fr=Sr,_e=Ot,_r=Tt,Br=Ne,it=function(e){return new Promise(function(n,a){var s=e.data,u=e.headers,o=e.responseType,l;function m(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}be.isFormData(s)&&delete u["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.Authorization="Basic "+btoa(f+":"+b)}var p=Lr(e.baseURL,e.url);i.open(e.method.toUpperCase(),Dr(p,e.params,e.paramsSerializer),!0),i.timeout=e.timeout;function D(){if(!!i){var y="getAllResponseHeaders"in i?xr(i.getAllResponseHeaders()):null,w=!o||o==="text"||o==="json"?i.responseText:i.response,O={data:w,status:i.status,statusText:i.statusText,headers:y,config:e,request:i};Ar(function(A){n(A),m()},function(A){a(A),m()},O),i=null}}if("onloadend"in i?i.onloadend=D:i.onreadystatechange=function(){!i||i.readyState!==4||i.status===0&&!(i.responseURL&&i.responseURL.indexOf("file:")===0)||setTimeout(D)},i.onabort=function(){!i||(a(_e("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){a(_e("Network Error",e,null,i)),i=null},i.ontimeout=function(){var w=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",O=e.transitional||_r;e.timeoutErrorMessage&&(w=e.timeoutErrorMessage),a(_e(w,e,O.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",i)),i=null},be.isStandardBrowserEnv()){var L=(e.withCredentials||Fr(p))&&e.xsrfCookieName?Nr.read(e.xsrfCookieName):void 0;L&&(u[e.xsrfHeaderName]=L)}"setRequestHeader"in i&&be.forEach(u,function(w,O){typeof s=="undefined"&&O.toLowerCase()==="content-type"?delete u[O]:i.setRequestHeader(O,w)}),be.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),o&&o!=="json"&&(i.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&i.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(y){!i||(a(!y||y&&y.type?new Br("canceled"):y),i.abort(),i=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),s||(s=null),i.send(s)})},T=N,ot=mr,Pr=Ct,$r=Tt,Ir={"Content-Type":"application/x-www-form-urlencoded"};function ut(t,e){!T.isUndefined(t)&&T.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function jr(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=it),t}function Ur(t,e,r){if(T.isString(t))try{return(e||JSON.parse)(t),T.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var De={transitional:$r,adapter:jr(),transformRequest:[function(e,r){return ot(r,"Accept"),ot(r,"Content-Type"),T.isFormData(e)||T.isArrayBuffer(e)||T.isBuffer(e)||T.isStream(e)||T.isFile(e)||T.isBlob(e)?e:T.isArrayBufferView(e)?e.buffer:T.isURLSearchParams(e)?(ut(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):T.isObject(e)||r&&r["Content-Type"]==="application/json"?(ut(r,"application/json"),Ur(e)):e}],transformResponse:[function(e){var r=this.transitional||De.transitional,n=r&&r.silentJSONParsing,a=r&&r.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||a&&T.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(s)throw u.name==="SyntaxError"?Pr(u,this,"E_JSON_PARSE"):u}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};T.forEach(["delete","get","head"],function(e){De.headers[e]={}});T.forEach(["post","put","patch"],function(e){De.headers[e]=T.merge(Ir)});var Je=De,kr=N,qr=Je,Hr=function(e,r,n){var a=this||qr;return kr.forEach(n,function(u){e=u.call(a,e,r)}),e},Rt=function(e){return!!(e&&e.__CANCEL__)},lt=N,Be=Hr,Mr=Rt,Wr=Je,Qr=Ne;function Pe(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qr("canceled")}var Jr=function(e){Pe(e),e.headers=e.headers||{},e.data=Be.call(e,e.data,e.headers,e.transformRequest),e.headers=lt.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),lt.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var r=e.adapter||Wr.adapter;return r(e).then(function(a){return Pe(e),a.data=Be.call(e,a.data,a.headers,e.transformResponse),a},function(a){return Mr(a)||(Pe(e),a&&a.response&&(a.response.data=Be.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})},F=N,St=function(e,r){r=r||{};var n={};function a(i,f){return F.isPlainObject(i)&&F.isPlainObject(f)?F.merge(i,f):F.isPlainObject(f)?F.merge({},f):F.isArray(f)?f.slice():f}function s(i){if(F.isUndefined(r[i])){if(!F.isUndefined(e[i]))return a(void 0,e[i])}else return a(e[i],r[i])}function u(i){if(!F.isUndefined(r[i]))return a(void 0,r[i])}function o(i){if(F.isUndefined(r[i])){if(!F.isUndefined(e[i]))return a(void 0,e[i])}else return a(void 0,r[i])}function l(i){if(i in r)return a(e[i],r[i]);if(i in e)return a(void 0,e[i])}var m={url:u,method:u,data:u,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return F.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var b=m[f]||s,p=b(f);F.isUndefined(p)&&b!==l||(n[f]=p)}),n},At={version:"0.26.1"},Vr=At.version,Ve={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Ve[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var ct={};Ve.transitional=function(e,r,n){function a(s,u){return"[Axios v"+Vr+"] Transitional option '"+s+"'"+u+(n?". "+n:"")}return function(s,u,o){if(e===!1)throw new Error(a(u," has been removed"+(r?" in "+r:"")));return r&&!ct[u]&&(ct[u]=!0,console.warn(a(u," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,u,o):!0}};function Kr(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),a=n.length;a-- >0;){var s=n[a],u=e[s];if(u){var o=t[s],l=o===void 0||u(o,s,t);if(l!==!0)throw new TypeError("option "+s+" must be "+l);continue}if(r!==!0)throw Error("Unknown option "+s)}}var zr={assertOptions:Kr,validators:Ve},Nt=N,Yr=wt,ft=dr,dt=Jr,Le=St,Dt=zr,te=Dt.validators;function le(t){this.defaults=t,this.interceptors={request:new ft,response:new ft}}le.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Le(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&Dt.assertOptions(n,{silentJSONParsing:te.transitional(te.boolean),forcedJSONParsing:te.transitional(te.boolean),clarifyTimeoutError:te.transitional(te.boolean)},!1);var a=[],s=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(s=s&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});var u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});var o;if(!s){var l=[dt,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(u),o=Promise.resolve(r);l.length;)o=o.then(l.shift(),l.shift());return o}for(var m=r;a.length;){var i=a.shift(),f=a.shift();try{m=i(m)}catch(b){f(b);break}}try{o=dt(m)}catch(b){return Promise.reject(b)}for(;u.length;)o=o.then(u.shift(),u.shift());return o};le.prototype.getUri=function(e){return e=Le(this.defaults,e),Yr(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Nt.forEach(["delete","get","head","options"],function(e){le.prototype[e]=function(r,n){return this.request(Le(n||{},{method:e,url:r,data:(n||{}).data}))}});Nt.forEach(["post","put","patch"],function(e){le.prototype[e]=function(r,n,a){return this.request(Le(a||{},{method:e,url:r,data:n}))}});var Xr=le,Gr=Ne;function ne(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(a){e=a});var r=this;this.promise.then(function(n){if(!!r._listeners){var a,s=r._listeners.length;for(a=0;a<s;a++)r._listeners[a](n);r._listeners=null}}),this.promise.then=function(n){var a,s=new Promise(function(u){r.subscribe(u),a=u}).then(n);return s.cancel=function(){r.unsubscribe(a)},s},t(function(a){r.reason||(r.reason=new Gr(a),e(r.reason))})}ne.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ne.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};ne.prototype.unsubscribe=function(e){if(!!this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};ne.source=function(){var e,r=new ne(function(a){e=a});return{token:r,cancel:e}};var Zr=ne,en=function(e){return function(n){return e.apply(null,n)}},tn=N,rn=function(e){return tn.isObject(e)&&e.isAxiosError===!0},ht=N,nn=Et,Te=Xr,an=St,sn=Je;function Lt(t){var e=new Te(t),r=nn(Te.prototype.request,e);return ht.extend(r,Te.prototype,e),ht.extend(r,e),r.create=function(a){return Lt(an(t,a))},r}var $=Lt(sn);$.Axios=Te;$.Cancel=Ne;$.CancelToken=Zr;$.isCancel=Rt;$.VERSION=At.version;$.all=function(e){return Promise.all(e)};$.spread=en;$.isAxiosError=rn;He.exports=$;He.exports.default=$;var on=He.exports;const xt=on.create({baseURL:zt.baseApi,timeout:5e3,withCredentials:!1});xt.interceptors.request.use(t=>(t.loading&&we.loading({message:"\u52A0\u8F7D\u4E2D...",forbidClick:!0}),t),t=>{Promise.reject(t)});xt.interceptors.response.use(t=>pe(void 0,null,function*(){we.clear();const e=t.data;if(e.code!==0){if(e.code===401)return;if(e.code==403){Mt.alert({title:"\u8B66\u544A",message:e.msg});return}return Promise.reject(new Error(e.msg||"Error"))}else return t.data}),t=>{if(we.clear(),t&&t.response)switch(t.response.status){case 400:t.message="\u8BF7\u6C42\u9519\u8BEF(400)";break;case 401:t.message="\u672A\u6388\u6743,\u8BF7\u767B\u5F55(401)";break;case 403:t.message="\u62D2\u7EDD\u8BBF\u95EE(403)";break;case 404:t.message=`\u8BF7\u6C42\u5730\u5740\u51FA\u9519: ${t.response.config.url}`;break;case 405:t.message="\u8BF7\u6C42\u65B9\u6CD5\u672A\u5141\u8BB8(405)";break;case 408:t.message="\u8BF7\u6C42\u8D85\u65F6(408)";break;case 500:t.message="\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF(500)";break;case 501:t.message="\u670D\u52A1\u672A\u5B9E\u73B0(501)";break;case 502:t.message="\u7F51\u7EDC\u9519\u8BEF(502)";break;case 503:t.message="\u670D\u52A1\u4E0D\u53EF\u7528(503)";break;case 504:t.message="\u7F51\u7EDC\u8D85\u65F6(504)";break;case 505:t.message="HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)";break;default:t.message=`\u8FDE\u63A5\u9519\u8BEF: ${t.message}`}else t.message=="Network Error"&&t.message=="\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01",t.message="\u8FDE\u63A5\u5230\u670D\u52A1\u5668\u5931\u8D25\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458";return we(t.message),Promise.reject(t)});const un={},Ft=Symbol("GLOBAL_OPTIONS_PROVIDE_KEY"),ln=()=>un;Wt({name:"RequestConfig",props:{config:{type:Object,required:!0}},setup(t,{slots:e}){const{config:r}=t;return Qt(Ft,r),()=>{var n;return(n=e.default)===null||n===void 0?void 0:n.call(e)}}});const cn=Object.prototype.toString,_t=t=>cn.call(t),fn=t=>_t(t)==="[object String]",dn=t=>_t(t)==="[object Object]",Ke=t=>t!==null&&typeof t=="object",hn=t=>Ke(t)&&Se(t.then)&&Se(t.catch),Se=t=>t instanceof Function,Oe=t=>t==null,ze=typeof window=="undefined",qe=()=>{var t,e;return!ze&&((t=window)===null||t===void 0||(e=t.document)===null||e===void 0?void 0:e.visibilityState)==="visible"},mt=()=>{var t,e,r;return(t=!ze&&((e=window)===null||e===void 0||(r=e.navigator)===null||r===void 0?void 0:r.onLine))!==null&&t!==void 0?t:!0},mn=t=>{const e={};return Object.keys(t).forEach(r=>{e[r]=Kt(t[r])}),e},ue=Promise.resolve(null),vt=(...t)=>pe(void 0,null,function*(){const e=yield fetch(...t);if(e.ok)return e.json();throw new Error(e.statusText)});function vn(t,e){const r=Object.assign({},t);for(const n of e)delete r[n];return r}const pn=(t,e=!1)=>{const r=`Warning: [vue-request] ${t}`;if(e)return new Error(r);console.error(r)},En=(t,e)=>{let r=!1;return(...n)=>{r||(r=!0,t(...n),setTimeout(()=>{r=!1},e))}};var $e;const Bt=new Set,Pt=new Set,$t=new Set,ye=(t,e)=>{let r;switch(t){case"FOCUS_LISTENER":r=Bt;break;case"RECONNECT_LISTENER":r=$t;break;case"VISIBLE_LISTENER":r=Pt;break}if(!r.has(e))return r.add(e),()=>{r.delete(e)}},Ie=t=>{t.forEach(e=>{e()})};!ze&&($e=window)!==null&&$e!==void 0&&$e.addEventListener&&(window.addEventListener("visibilitychange",()=>{qe()&&Ie(Pt)},!1),window.addEventListener("focus",()=>Ie(Bt),!1),window.addEventListener("online",()=>Ie($t),!1));function It(t,e,r){let n,a,s,u,o,l,m=0,i=!1,f=!1,b=!0;const p=!e&&e!==0&&typeof window.requestAnimationFrame=="function";if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0,Ke(r)&&(i=!!r.leading,f="maxWait"in r,s=f?Math.max(+r.maxWait||0,e):s,b="trailing"in r?!!r.trailing:b);function D(h){const v=n,R=a;return n=a=void 0,m=h,u=t.apply(R,v),u}function L(h,v){return p?(window.cancelAnimationFrame(o),window.requestAnimationFrame(h)):setTimeout(h,v)}function y(h){if(p)return window.cancelAnimationFrame(h);clearTimeout(h)}function w(h){return m=h,o=L(A,e),i?D(h):u}function O(h){const v=h-l,R=h-m,x=e-v;return f?Math.min(x,s-R):x}function q(h){const v=h-l,R=h-m;return l===void 0||v>=e||v<0||f&&R>=s}function A(){const h=Date.now();if(q(h))return ae(h);o=L(A,O(h))}function ae(h){return o=void 0,b&&n?D(h):(n=a=void 0,u)}function I(){o!==void 0&&y(o),m=0,n=l=a=o=void 0}function Q(){return o===void 0?u:ae(Date.now())}function J(){return o!==void 0}function _(...h){const v=Date.now(),R=q(v);if(n=h,a=this,l=v,R){if(o===void 0)return w(l);if(f)return o=L(A,e),D(l)}return o===void 0&&(o=L(A,e)),u}return _.cancel=I,_.flush=Q,_.pending=J,_}function bn(t,e,r){let n=!0,a=!0;if(typeof t!="function")throw new TypeError("Expected a function");return Ke(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),It(t,e,{leading:n,trailing:a,maxWait:e})}const yn=(t,e)=>r=>{Object.keys(r).forEach(n=>{t[n].value=r[n]}),e.forEach(n=>n(t))},ge=(t,e,r)=>{var n,a,s;const{initialAutoRunFlag:u,initialData:o,loadingDelay:l,pollingInterval:m,debounceInterval:i,debounceOptions:f,throttleInterval:b,throttleOptions:p,pollingWhenHidden:D,pollingWhenOffline:L,errorRetryCount:y,errorRetryInterval:w,stopPollingWhenHiddenOrOffline:O,refreshOnWindowFocus:q,refocusTimespan:A,updateCache:ae,formatResult:I,onSuccess:Q,onError:J,onBefore:_,onAfter:h}=e,v=E(0),R=E((n=r==null?void 0:r.loading)!==null&&n!==void 0?n:!1),x=E((a=r==null?void 0:r.data)!==null&&a!==void 0?a:o),H=E(r==null?void 0:r.error),V=E((s=r==null?void 0:r.params)!==null&&s!==void 0?s:[]),j=yn({loading:R,data:x,error:H,params:V},[d=>ae(d)]),X=()=>{v.value=0},M=E(0),G=E(),se=E(),Z=E(),ce=()=>{G.value&&G.value(),Z.value&&Z.value(),se.value&&se.value()},ie=()=>{let d;return l&&(d=setTimeout(j,l,{loading:!0})),()=>d&&clearTimeout(d)},fe=d=>{if(H.value&&y!==0)return;let S;if(!Oe(m)&&m>=0)if((D||qe())&&(L||mt()))S=setTimeout(d,m);else{O.value=!0;return}return()=>S&&clearTimeout(S)},de=pt(()=>{if(w)return w;const d=1e3,S=1,B=9,Y=Math.floor(Math.random()*rt(2,Math.min(v.value,B))+S);return d*Y}),c=d=>{let S;const B=y===-1,Y=v.value<y;return H.value&&(B||Y)&&(B||(v.value+=1),S=setTimeout(d,de.value)),()=>S&&clearTimeout(S)},C=(...d)=>{j({loading:!l,params:d}),Z.value=ie(),M.value+=1;const S=M.value;return _==null||_(d),t(...d).then(B=>{if(S===M.value){const Y=I?I(B):B;return j({data:Y,loading:!1,error:void 0}),Q&&Q(Y,d),X(),Y}return ue}).catch(B=>(S===M.value&&(j({data:void 0,loading:!1,error:B}),J&&J(B,d),console.error(B)),ue)).finally(()=>{S===M.value&&(Z.value(),se.value=c(()=>C(...d)),G.value=fe(()=>C(...d)),h==null||h(d))})},g=!Oe(i)&&It(C,i,f),P=!Oe(b)&&bn(C,b,p),U=(...d)=>(ce(),!u.value&&g?(g(...d),ue):P?(P(...d),ue):(X(),C(...d))),K=()=>{M.value+=1,j({loading:!1}),g&&g.cancel(),P&&P.cancel(),ce()},z=()=>U(...V.value),Ut=d=>{const S=Se(d)?d(x.value):d;j({data:S})},Ye=[],he=d=>{d&&Ye.push(d)},Xe=()=>{O.value&&(D||qe())&&(L||mt())&&(z(),O.value=!1)};D||he(ye("VISIBLE_LISTENER",Xe)),L||he(ye("RECONNECT_LISTENER",Xe));const Ge=En(z,A);return q&&(he(ye("VISIBLE_LISTENER",Ge)),he(ye("FOCUS_LISTENER",Ge))),{loading:R,data:x,error:H,params:V,run:U,cancel:K,refresh:z,mutate:Ut,unmount:()=>{Ye.forEach(d=>d())}}},Re=new Map,je=t=>{if(Oe(t))return;const e=Re.get(t);if(!!e)return{data:e.data,cacheTime:e.cacheTime}},gn=(t,e,r)=>{const n=Re.get(t);n!=null&&n.timer&&clearTimeout(n.timer);const a=setTimeout(()=>Re.delete(t),r);Re.set(t,{data:e,timer:a,cacheTime:new Date().getTime()})},re="__QUERY_DEFAULT_KEY__";function wn(t,e){const r=Jt(Ft,{}),de=k(k(k({},ln()),r),e),{cacheKey:n,defaultParams:a=[],manual:s=!1,ready:u=E(!0),refreshDeps:o=[],loadingDelay:l=0,pollingWhenHidden:m=!1,pollingWhenOffline:i=!1,refreshOnWindowFocus:f=!1,refocusTimespan:b=5e3,cacheTime:p=6e5,staleTime:D=0,errorRetryCount:L=0,errorRetryInterval:y=0,queryKey:w}=de,O=ve(de,["cacheKey","defaultParams","manual","ready","refreshDeps","loadingDelay","pollingWhenHidden","pollingWhenOffline","refreshOnWindowFocus","refocusTimespan","cacheTime","staleTime","errorRetryCount","errorRetryInterval","queryKey"]),q=E(!1),A=E(!1),I=k({initialAutoRunFlag:A,loadingDelay:l,pollingWhenHidden:m,pollingWhenOffline:i,stopPollingWhenHiddenOrOffline:q,cacheKey:n,errorRetryCount:L,errorRetryInterval:y,refreshOnWindowFocus:f,refocusTimespan:b,updateCache:c=>{var C,g;if(!n)return;const P=(C=je(n))===null||C===void 0?void 0:C.data,U=P==null?void 0:P.queries,K=mn(c),z=(g=w==null?void 0:w(...c.params.value))!==null&&g!==void 0?g:re;gn(n,{queries:nt(k({},U),{[z]:k(k({},U==null?void 0:U[z]),K)}),latestQueriesKey:z},p)}},vn(O,["pagination","listKey"])),Q=E(!1),J=E(),_=E(),h=E(),v=oe({[re]:oe(ge(t,I))}),R=E(re),x=pt(()=>{var c;return(c=v[R.value])!==null&&c!==void 0?c:{}});if(xe(x,c=>{Q.value=c.loading,J.value=c.data,_.value=c.error,h.value=c.params},{immediate:!0,deep:!0}),n){var H;const c=je(n);c!=null&&(H=c.data)!==null&&H!==void 0&&H.queries&&(Object.keys(c.data.queries).forEach(C=>{const g=c.data.queries[C];v[C]=oe(ge(t,I,{loading:g.loading,params:g.params,data:g.data,error:g.error}))}),c.data.latestQueriesKey&&(R.value=c.data.latestQueriesKey))}const V=E(),j=E(!1),X=(...c)=>{var C;if(!u.value&&!j.value)return V.value=c,ue;const g=(C=w==null?void 0:w(...c))!==null&&C!==void 0?C:re;return v[g]||(v[g]=oe(ge(t,I))),R.value=g,x.value.run(...c)},M=()=>{G(),R.value=re,v[re]=oe(ge(t,I))},G=()=>{Object.keys(v).forEach(c=>{v[c].cancel(),v[c].unmount(),delete v[c]})},se=()=>x.value.cancel(),Z=()=>x.value.refresh(),ce=c=>x.value.mutate(c);if(!s){var ie;A.value=!0;const c=je(n),C=(ie=c==null?void 0:c.data.queries)!==null&&ie!==void 0?ie:{},g=c&&(D===-1||c.cacheTime+D>new Date().getTime()),P=Object.keys(C).length>0;g||(P?Object.keys(v).forEach(U=>{var K;(K=v[U])===null||K===void 0||K.refresh()}):X(...a)),A.value=!1}const fe=E();return fe.value=xe(u,c=>{j.value=!0,c&&V.value&&(X(...V.value),fe.value())},{flush:"sync"}),o.length&&xe(o,()=>{!s&&x.value.refresh()}),Vt(()=>{G()}),{loading:Q,data:J,error:_,params:h,cancel:se,refresh:Z,mutate:ce,run:X,reset:M,queries:v}}const jt=t=>(...e)=>{if(Se(t))return jt(t(...e))();if(hn(t))return t;if(dn(t)){const r=t,{url:n}=r,a=ve(r,["url"]);return vt(n,a)}else{if(fn(t))return vt(t);throw pn("Unknown service type",!0)}};function Nn(t,e){const r=jt(t),l=wn(r,e!=null?e:{}),{reset:n,run:a}=l,s=ve(l,["reset","run"]),u=E(!1);return k({reload:()=>pe(this,null,function*(){const{defaultParams:m=[],manual:i}=e;n(),i||(u.value=!0,yield a(...m),u.value=!1)}),run:a,reloading:u},s)}export{xt as s,Nn as u};
