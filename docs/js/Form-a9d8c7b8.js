import{N as x,F as A,R as b,e as L,f as $,B as D}from"./vant-ae53d9e7.js";import{b as M,o as N}from"./vue-router-9ab623f9.js";import{T as O}from"./Test-fce1dbbc.js";import{W as j,a as z,b as S,c as U,d as P,e as B}from"./monaco-editor-4b6960e9.js";import{_ as T,k as q}from"./index-616b7bfe.js";import{q as w,r as g,l as G,Y as I,e as J,x as K,t as c,J as F,M as y,a as Y,s as t,L as n,F as H,u as s,P as W,B as _}from"./@vue-3732ec2e.js";import"./@vant-856a7b01.js";import"./pinia-b30b9bad.js";import"./vue-demi-3c8f99f1.js";import"./pinia-plugin-persistedstate-f1177332.js";import"./lodash-es-64c0f301.js";import"./vconsole-90cc4834.js";import"./axios-d6bcf34f.js";import"./vite-plugin-mock-57207cc7.js";import"./mockjs-22f713a3.js";import"./path-to-regexp-dd3e7e88.js";const Q=w({props:{language:null},setup(f,{expose:m}){const o=f;self.MonacoEnvironment={getWorker(l,e){return e==="json"?new j:e==="css"||e==="scss"||e==="less"?new z:e==="html"||e==="handlebars"||e==="razor"?new S:e==="typescript"||e==="javascript"?new U:new P}};const i=g(),a=g(),{language:u}=G(o),V=()=>{i.value&&(a.value=B.create(i.value,{value:"",language:u.value?u.value:"shell",theme:"vs-dark",formatOnPaste:!0,fontSize:14,minimap:{enabled:!1},overviewRulerBorder:!1,scrollBeyondLastLine:!1}))};I(()=>{a.value&&B.setModelLanguage(c(a.value).getModel(),u.value)}),J(()=>{V()});const k=()=>{a.value&&c(a.value).updateOptions({readOnly:!0})};return K(()=>{a.value&&c(a.value).dispose()}),m({handleValue:()=>c(a.value).getValue(),setValue:l=>{c(a.value).setValue(l)},setReadOnly:k}),(l,e)=>(F(),y("div",{ref_key:"inputContainer",ref:i,class:"editorStyle"},null,512))}});var X=T(Q,[["__scopeId","data-v-2d4b0364"]]);const Z=_("\u662F"),ee=_("\u5426"),te={class:"radio_wrap"},oe=W("div",{class:"radio_title"},"\u811A\u672C\u7C7B\u578B\uFF1A",-1),ae=_("Bash"),re=_("Windows\u6279\u5904\u7406"),ne=_("\u9884\u89C8"),E=q(),se=w({name:"form-test",beforeRouteEnter(f,m,o){o(()=>{E.add(f.name)})}}),Fe=w({...se,setup(f){M();const m=async()=>{await V(),u.value.setReadOnly()},o=Y({files:"",overwrite:"0",file_format:1,content:""}),i=()=>history.back();N((p,r,l)=>{console.log("leave"),p.name==="preview"||E.remove(r.name),l()});const a=g(),u=g(),V=()=>a.value.validate(),k=()=>!!u.value.handleValue();return(p,r)=>{const l=x,e=A,v=b,h=L,C=$,R=D;return F(),y(H,null,[t(l,{title:"\u8868\u5355","left-text":"\u8FD4\u56DE","left-arrow":"",onClickLeft:i}),t(O),t(C,{ref_key:"jobForm",ref:a},{default:n(()=>[t(e,{modelValue:s(o).files,"onUpdate:modelValue":r[0]||(r[0]=d=>s(o).files=d),label:"\u8F93\u5165\u6846",autocomplete:"off"},null,8,["modelValue"]),t(h,{modelValue:s(o).overwrite,"onUpdate:modelValue":r[1]||(r[1]=d=>s(o).overwrite=d),direction:"horizontal"},{default:n(()=>[t(v,{name:"0"},{default:n(()=>[Z]),_:1}),t(v,{name:"1"},{default:n(()=>[ee]),_:1})]),_:1},8,["modelValue"]),W("div",te,[oe,t(h,{modelValue:s(o).file_format,"onUpdate:modelValue":r[2]||(r[2]=d=>s(o).file_format=d),direction:"horizontal"},{default:n(()=>[t(v,{name:1},{default:n(()=>[ae]),_:1}),t(v,{name:2},{default:n(()=>[re]),_:1})]),_:1},8,["modelValue"])]),t(X,{ref_key:"codeEditor",ref:u,language:s(o).file_format===1?"shell":"bat",content:s(o).content},null,8,["language","content"]),t(e,{rules:[{validator:k,message:"\u5F55\u5165\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A"}]},null,8,["rules"])]),_:1},512),t(R,{onClick:m},{default:n(()=>[ne]),_:1})],64)}}});export{Fe as default};
