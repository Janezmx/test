System.register([],(function(e){"use strict";return{execute:function(){e("s",function(e={}){return function(t){var r,n,s,i;const{options:{persist:l},store:o}=t;if(!l)return;const{storage:u=(null!=(r=e.storage)?r:localStorage),beforeRestore:c=(null!=(n=e.beforeRestore)?n:null),afterRestore:a=(null!=(s=e.afterRestore)?s:null),serializer:f=(null!=(i=e.serializer)?i:{serialize:JSON.stringify,deserialize:JSON.parse}),key:d=o.$id,paths:p=null}="boolean"!=typeof l?l:{};null==c||c(t);try{const e=u.getItem(d);e&&o.$patch(f.deserialize(e))}catch(y){}null==a||a(t),o.$subscribe(((e,t)=>{try{const e=Array.isArray(p)?function(e,t){return t.reduce(((t,r)=>{const n=r.split(".");return function(e,t,r){return t.slice(0,-1).reduce(((e,t)=>/^(__proto__)$/.test(t)?{}:e[t]=e[t]||{}),e)[t[t.length-1]]=r,e}(t,n,function(e,t){return t.reduce(((e,t)=>null==e?void 0:e[t]),e)}(e,n))}),{})}(t,p):t;u.setItem(d,f.serialize(e))}catch(y){}}),{detached:!0})}}())}}}));
