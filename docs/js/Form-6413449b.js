var K=Object.defineProperty,$=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var S=(l,r,t)=>r in l?K(l,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[r]=t,A=(l,r)=>{for(var t in r||(r={}))P.call(r,t)&&S(l,t,r[t]);if(R)for(var t of R(r))q.call(r,t)&&S(l,t,r[t]);return l},T=(l,r)=>$(l,M(r));var I=(l,r,t)=>new Promise((e,_)=>{var V=i=>{try{p(t.next(i))}catch(o){_(o)}},f=i=>{try{p(t.throw(i))}catch(o){_(o)}},p=i=>i.done?e(i.value):Promise.resolve(i.value).then(V,f);p((t=t.apply(l,r)).next())});import{N as z,C as G,F as H,R as Q,e as J,b as X,B as Y}from"./vant-1b4fb385.js";import{b as Z,o as ee}from"./vue-router-f7e58f32.js";import{T as te}from"./Test-0fbeaa97.js";import{W as oe,a as ae,b as ne,c as re,d as se,e as O,l as b,f as h}from"./monaco-editor-ba77745f.js";import{_ as le,k as ue}from"./index-5d7b4eab.js";import{q as W,r as g,W as ie,e as me,x as de,t as k,H as F,L as N,a as ce,s,K as c,F as U,O as v,M as _e,N as pe,u as m,B as C}from"./@vue-2a6541b0.js";import"./@vant-9df66e1a.js";import"./pinia-9e8e4c4b.js";import"./vue-demi-3c8f99f1.js";import"./pinia-plugin-persistedstate-f1177332.js";import"./lodash-es-64c0f301.js";import"./vconsole-90cc4834.js";import"./axios-d6bcf34f.js";import"./vite-plugin-mock-57207cc7.js";import"./mockjs-22f713a3.js";import"./path-to-regexp-dd3e7e88.js";const fe=W({setup(l,{expose:r}){self.MonacoEnvironment={getWorker(a,n){return n==="json"?new oe:n==="css"||n==="scss"||n==="less"?new ae:n==="html"||n==="handlebars"||n==="razor"?new ne:n==="typescript"||n==="javascript"?new re:new se}};const t=g(),e=g(),_=g({a:["group","area"],b:["user","client"]}),V=()=>b.keywords.map(a=>({label:a,kind:h.CompletionItemKind.Keyword,insertText:a,detail:"keyword"})),f=a=>{const n=_[a];return n?n.map(d=>({label:d,kind:h.CompletionItemKind.Constant,insertText:d,detail:a})):[]},p=()=>Object.keys(_).map(a=>({label:a,kind:h.CompletionItemKind.Enum,insertText:a,detail:"database"})),i=()=>{t.value&&(e.value=O.create(t.value,{value:"",language:"sql",theme:"vs-dark",formatOnPaste:!0,fontSize:14,minimap:{enabled:!1},overviewRulerBorder:!1,scrollBeyondLastLine:!1}),console.log("language",b),h.registerCompletionItemProvider("sql",{triggerCharacters:[".",...b.keywords],provideCompletionItems:(a,n)=>{let d=[];const{lineNumber:B,column:x}=n,D=a.getValueInRange({startLineNumber:B,startColumn:0,endLineNumber:B,endColumn:x}).trim().split(/\s+/),y=D[D.length-1];if(y.endsWith(".")){const L=y.slice(0,y.length-1);Object.keys(_).includes(L)&&(d=[...f(L)])}else y==="."?d=[]:d=[...p(),...V()];return{suggestions:d}}}))};ie(()=>{e.value&&O.setModelLanguage(k(e.value).getModel(),b.value)}),me(()=>{i()});const o=()=>{e.value&&k(e.value).updateOptions({readOnly:!0})};return de(()=>{e.value&&k(e.value).dispose()}),r({handleValue:()=>k(e.value).getValue(),setValue:a=>{k(e.value).setValue(a)},setReadOnly:o}),(a,n)=>(F(),N("div",{ref_key:"inputContainer",ref:t,class:"editorStyle"},null,512))}});var ve=le(fe,[["__scopeId","data-v-43876555"]]);const ge={class:"info"},Ve={class:"scoped-line"},ke=v("span",{class:"title",style:{"vertical-align":"top",color:"#5d6d7e"}},"\u6D4B\u8BD5\u6587\u4EF61\uFF1A",-1),Ce={class:"list"},we=C("\u662F"),Be=C("\u5426"),ye={class:"radio_wrap"},be=v("div",{class:"radio_title"},"\u811A\u672C\u7C7B\u578B\uFF1A",-1),he=C("Bash"),Fe=C("Windows\u6279\u5904\u7406"),Ne=C("\u9884\u89C8"),j=ue(),xe=W({name:"form-test",beforeRouteEnter(l,r,t){t(()=>{j.add(l.name)})}}),ze=W(T(A({},xe),{setup(l){const r=g(["/222222222222222222222222222222222222222222222222222222"]);Z();const t=()=>I(this,null,function*(){}),e=ce({files:"",overwrite:"0",file_format:1,content:"",name:"",username:"",formName:""}),_=()=>history.back();ee((i,o,w)=>{console.log("leave"),i.name==="preview"||j.remove(o.name),w()});const V=g(),f=g(),p=()=>!!f.value.handleValue();return(i,o)=>{const w=z,E=G,a=H,n=Q,d=J,B=X,x=Y;return F(),N(U,null,[s(w,{title:"\u8868\u5355","left-text":"\u8FD4\u56DE","left-arrow":"",onClickLeft:_}),s(te),s(E,{class:"ios-cell"},{title:c(()=>[v("div",ge,[v("div",Ve,[ke,v("div",Ce,[(F(!0),N(U,null,_e(r.value,u=>(F(),N("div",null,pe(u),1))),256))])])])]),_:1}),s(B,{ref_key:"jobForm",ref:V},{default:c(()=>[s(a,{modelValue:m(e).files,"onUpdate:modelValue":o[0]||(o[0]=u=>m(e).files=u),label:"\u8F93\u5165\u6846"},null,8,["modelValue"]),s(a,{id:"formName",modelValue:m(e).formName,"onUpdate:modelValue":o[1]||(o[1]=u=>m(e).formName=u),label:"formName",name:"formName",autocomplete:"on"},null,8,["modelValue"]),s(a,{id:"username",modelValue:m(e).username,"onUpdate:modelValue":o[2]||(o[2]=u=>m(e).username=u),label:"username",name:"username",autocomplete:"username"},null,8,["modelValue"]),s(a,{id:"name",modelValue:m(e).name,"onUpdate:modelValue":o[3]||(o[3]=u=>m(e).name=u),label:"name",name:"name",autocomplete:"name"},null,8,["modelValue"]),s(d,{modelValue:m(e).overwrite,"onUpdate:modelValue":o[4]||(o[4]=u=>m(e).overwrite=u),direction:"horizontal"},{default:c(()=>[s(n,{name:"0"},{default:c(()=>[we]),_:1}),s(n,{name:"1"},{default:c(()=>[Be]),_:1})]),_:1},8,["modelValue"]),v("div",ye,[be,s(d,{modelValue:m(e).file_format,"onUpdate:modelValue":o[5]||(o[5]=u=>m(e).file_format=u),direction:"horizontal"},{default:c(()=>[s(n,{name:1},{default:c(()=>[he]),_:1}),s(n,{name:2},{default:c(()=>[Fe]),_:1})]),_:1},8,["modelValue"])]),s(ve,{ref_key:"codeEditor",ref:f,language:"sql",content:m(e).content},null,8,["content"]),s(a,{rules:[{validator:p,message:"\u5F55\u5165\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A"}]},null,8,["rules"])]),_:1},512),s(x,{onClick:t},{default:c(()=>[Ne]),_:1})],64)}}}));export{ze as default};
